# sums

こういうゲームをとくためのツール。

![アプリイメージ](image.png)

縦、横、あるいは、同じ色の領域のマス目の合計があうようにマス目を消す、あるいは、確定する。

考え方として、領域内のすべてのマス目の順列を用意し、先頭から足していって合計があうものを調べていき、その時に各マス目が使われた回数をカウントしていく。

* 合計があう順列の個数と使われた回数が一致するときは、そのマス目は必須のマス目であることがわかる。
* 使われた回数がゼロのときは不要なマス目であることがわかる。

たとえば右上の青の領域の場合は

* 合計：14
* 領域内の数列：[9,1,5,6,5,4]

に対して、ツールでは以下のように引数を指定して実行すると

```
% sums.exe 14 915654
sum: 14
nums: [9 1 5 6 5 4]
0:9=>78% (132/168)
1:1=>21% (36/168)
2:5=>50% (84/168)
3:6=>0% (0/168)
4:5=>50% (84/168)
5:4=>42% (72/168)
```

3番目の要素の「6」の使用率が0パーセントであり、不要なマス目であることがわかるので消すことができる。

左上のオレンジの領域の場合は

* 合計：10
* 領域内の数列：[6,9,6,3,8,4]

に対して、ツールでは以下のように引数を指定して実行すると

```
% sums.exe 10 696384
sum: 10
nums: [6 9 6 3 8 4]
0:6=>50% (48/96)
1:9=>0% (0/96)
2:6=>50% (48/96)
3:3=>0% (0/96)
4:8=>0% (0/96)
5:4=>100% (96/96)
```

1番目の「9」と3番目の「3」と4番目の「8」が0パーセントで不要なマス目、5番目の「4」が100パーセントで必須のマス目、ということがわかる。

これを縦横や各色の領域に繰り返し行うことで、必須のマス目と不要なマス目を判定していくことができる。

